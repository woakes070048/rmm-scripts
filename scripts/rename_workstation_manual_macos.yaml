name: rename_workstation_manual_macos.sh
description: Rename a macOS device with manual client override
language: Bash
runAs: SYSTEM_USER
timeout: 15
tags:
  - Administration
  - Mac
shared: false
favourite: false
readme: |
  Purpose
  -------
  Renames a macOS device using a custom client segment with standardized
  naming pattern: CLIENT-USER-UUID. Allows variable length client segment
  override. Sets HostName, ComputerName, and LocalHostName.
  Designed for RMM deployment with custom client naming.

  Usage Notes
  -----------
  - Custom client from $YourCustomClientHere (variable length, primary)
  - Fallback to $YourClientNameHere if custom not set
  - Username detected from current console user
  - UUID from hardware identifier
  - Final hostname is exactly 15 characters (NetBIOS compatible)
  - Flushes DNS cache after rename
  - Skips rename if hostname already matches

  Requirements
  ------------
  - macOS 10.14 or later
  - Root/sudo access
  - RMM variable $YourCustomClientHere or $YourClientNameHere must be set
runtimeVariables:
  - name: YourCustomClientHere
placeholderVariables:
  - name: YourClientNameHere
    label: Client name
    column: client.name
scriptId: "259059164883050496"
lastPushedChecksum: sha256:a9b8d95d110acc3c
lastPushedMetaChecksum: sha256:bdfff6a0587cb08e
