name: printer_install_macos.sh
description: Installs network printers on macOS using CUPS/lpadmin with PPD driver support
language: Bash
runAs: SYSTEM_USER
timeout: 15
tags:
- Mac
- Services
- Software
shared: false
favourite: false
readme: |
  Purpose
  -------
  Installs network printers on macOS using CUPS/lpadmin. Supports PPD files for full driver functionality. Can install from local PPD or download from a URL.

  Usage Notes
  -----------
  - Downloads driver package if URL provided
  - Sets up PPD file (local or downloaded)
  - Removes existing printers with same name
  - Installs each configured printer via lpadmin
  - Supports lpd, ipp, and ipps protocols

  Configurable options (hardcoded in script):
  - PRINTERS: Array of "hostname|location|display_name" entries
  - PROTOCOL: lpd, ipp, or ipps
  - PPD_SOURCE: "local" or "url"
  - PPD_PATH: Path to local PPD file
  - PPD_URL: URL to download PPD file
  - DRIVER_URL: Optional driver package URL

  Requirements
  ------------
  - macOS 10.12 or later
  - Root/sudo privileges
  - PPD file for the printer model
  - Network access to printers and PPD URL (if using URL)
runtimeVariables: []
placeholderVariables: []
